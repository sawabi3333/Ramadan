<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø±Ø­Ù„Ø© Ø±Ù…Ø¶Ø§Ù† Ù…Ø¹ ÙˆÙ„Ø§Ø¡ ğŸ’œ</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Cairo',sans-serif}

body{
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
min-height:100vh;
display:flex;
align-items:center;
justify-content:center;
color:#fff;
padding:20px;
}

.card{
background:rgba(255,255,255,.1);
backdrop-filter:blur(12px);
padding:25px;
border-radius:20px;
text-align:center;
box-shadow:0 10px 30px rgba(0,0,0,.4);
max-width:420px;
width:100%;
}

h1{color:#ffd700;margin-bottom:10px}
button{
background:#ffd700;border:none;padding:12px 18px;
border-radius:20px;margin:6px;cursor:pointer;font-size:15px;
transition:.3s
}
button:hover{transform:scale(1.05);background:#ffea00}

.map{
display:grid;
grid-template-columns:repeat(5,1fr);
gap:12px;
max-height:420px;
overflow-y:auto;
margin-top:10px;
padding:10px;
}

.stage{
width:55px;height:55px;border-radius:50%;
background:#ffffff22;display:flex;align-items:center;
justify-content:center;cursor:pointer;font-size:20px
}

.locked{opacity:.3;cursor:not-allowed}

#timer{font-size:18px;margin:10px}

.celebrate{
position:fixed;top:0;left:0;width:100%;height:100%;
pointer-events:none;font-size:24px;
}
</style>
</head>

<body>

<div class="card" id="home">
<h1>Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ÙŠØ§ ÙˆÙ„Ø§Ø¡ ğŸ’œğŸŒ™</h1>
<p>Ø£ÙˆÙ„ Ø±Ù…Ø¶Ø§Ù† Ù…Ø¹ Ø¨Ø¹Ø¶â€¦ ÙˆØ¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù† ÙˆØ¥Ø­Ù†Ø§ Ø³ÙˆØ§ ğŸ’œ</p>
<button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø­Ù„Ø©</button>
</div>

<div class="card" id="game" style="display:none">
<h1>Ø®Ø±ÙŠØ·Ø© Ø±Ù…Ø¶Ø§Ù†</h1>
<div id="score">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</div>
<div id="timer"></div>
<div class="map" id="map"></div>

<button onclick="randomQuestion()">Ø³Ø¤Ø§Ù„ Ø±Ù…Ø¶Ø§Ù†ÙŠ</button>
<button onclick="guessNumber()">Ø®Ù…Ù† Ø§Ù„Ø±Ù‚Ù…</button>
<button onclick="riddle()">ÙØ²ÙˆØ±Ø©</button>
</div>

<div class="celebrate" id="celebrate"></div>

<script>
/* ===== Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ===== */
let score = Number(localStorage.getItem("score")||0);
let unlocked = Number(localStorage.getItem("unlocked")||1);
document.getElementById("score").innerText="Ø§Ù„Ù†Ù‚Ø§Ø·: "+score;

const questions=[
["ÙÙŠ Ø£ÙŠ Ø´Ù‡Ø± Ù†Ø²Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ","Ø±Ù…Ø¶Ø§Ù†"],
["ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ÙØ±ÙˆØ¶Ø©ØŸ","5"],
["Ù…Ø§ Ø§Ù„Ù„ÙŠÙ„Ø© Ø®ÙŠØ± Ù…Ù† Ø£Ù„Ù Ø´Ù‡Ø±ØŸ","Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±"],
["ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ","30"],
["Ù…Ø§ Ø§Ø³Ù… Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø©ØŸ","Ø§Ù„Ø¨Ù‚Ø±Ø©"],
["Ù…Ø§ Ø§Ø³Ù… Ù…Ù„Ùƒ Ø§Ù„ÙˆØ­ÙŠØŸ","Ø¬Ø¨Ø±ÙŠÙ„"],
["ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ø¬Ù†Ø©ØŸ","8"],
["Ù…Ø§ Ø£ÙˆÙ„ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ","Ø§Ù„Ø´Ù‡Ø§Ø¯ØªØ§Ù†"],
["ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ","7"],
["Ø¨Ù…Ø§Ø°Ø§ ÙŠÙØ·Ø± Ø§Ù„ØµØ§Ø¦Ù…ØŸ","Ø§Ù„ØªÙ…Ø±"]
];

/* ===== Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© ===== */
function startGame(){
home.style.display="none";
game.style.display="block";
drawMap();
}

/* ===== Ø±Ø³Ù… Ø§Ù„Ø®Ø±ÙŠØ·Ø© ===== */
function drawMap(){
map.innerHTML="";
for(let i=1;i<=30;i++){
let s=document.createElement("div");
s.className="stage"+(i>unlocked?" locked":"");
s.innerText="ğŸŒ™";
if(i<=unlocked)s.onclick=()=>playStage(i);
map.appendChild(s);
}
}

/* ===== Ù…Ø±Ø­Ù„Ø© ===== */
function playStage(i){
let q=questions[Math.floor(Math.random()*questions.length)];
let time=20;
timer.innerText="Ø§Ù„ÙˆÙ‚Øª: "+time;

let interval=setInterval(()=>{
time--;
timer.innerText="Ø§Ù„ÙˆÙ‚Øª: "+time;
if(time<=0){clearInterval(interval);alert("Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª â°");}
},1000);

let ans=prompt(q[0]);
clearInterval(interval);

if(ans===q[1]){
score+=10;
unlocked=Math.max(unlocked,i+1);
save();
celebrate();
alert("Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© ğŸ’œ");
}else{
alert("Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©");
}

updateUI();
}

/* ===== Ø£Ù„Ø¹Ø§Ø¨ Ø¬Ø§Ù†Ø¨ÙŠØ© ===== */
function randomQuestion(){
let q=questions[Math.floor(Math.random()*questions.length)];
if(prompt(q[0])===q[1]){score+=5;celebrate();updateUI();}
}

function guessNumber(){
let n=Math.floor(Math.random()*5)+1;
if(Number(prompt("Ø®Ù…Ù† Ø±Ù‚Ù… Ù…Ù† 1 Ø¥Ù„Ù‰ 5"))===n){score+=5;celebrate();}
updateUI();
}

function riddle(){
if(prompt("Ø´ÙŠØ¡ ÙŠØ¸Ù‡Ø± Ù„ÙŠÙ„Ù‹Ø§ ÙˆÙŠØ®ØªÙÙŠ Ù†Ù‡Ø§Ø±Ù‹Ø§ØŸ")==="Ø§Ù„Ù‚Ù…Ø±"){
score+=5;celebrate();
}
updateUI();
}

/* ===== Ø§Ø­ØªÙØ§Ù„ ===== */
function celebrate(){
for(let i=0;i<25;i++){
let e=document.createElement("div");
e.innerText=Math.random()>.5?"ğŸ’œ":"âœ¨";
e.style.position="absolute";
e.style.left=Math.random()*100+"%";
e.style.top=Math.random()*100+"%";
celebrateBox.appendChild(e);
setTimeout(()=>e.remove(),1500);
}
}

/* ===== Ø­ÙØ¸ ===== */
function save(){
localStorage.setItem("score",score);
localStorage.setItem("unlocked",unlocked);
}

/* ===== ØªØ­Ø¯ÙŠØ« ===== */
function updateUI(){
document.getElementById("score").innerText="Ø§Ù„Ù†Ù‚Ø§Ø·: "+score;
drawMap();
}

const celebrateBox=document.getElementById("celebrate");
</script>

</body>
</html>
